## Immutable vs. parseable clinical documents
FHIR Clinical Documents are used in a number of different ways. To support these different uses, it can be necessary to store a received document as an immutable object and/or parse a received document to extract observations and other entries. The following discussion expands upon the [Document End-Points discussion](https://hl7.org/fhir/R4/documents.html#bundle) in FHIR Documents. 

### FHIR Clinical Document as an Immutable Object
A FHIR Clinical Document is a FHIR bundle of type=document whose first entry is a FHIR composition. A FHIR Clinical Document that is posted to a FHIR server's **[baseURL]/Bundle** or **[baseURL]/Binary** becomes an immutable object on that server in that the document can be retrieved just as it was posted, with no alterations in legally authenticated document contents. (Bundle.id and Bundle.meta will change upon posting).

### FHIR Clinical Document as a Parseable Object
FHIR allows for a clinical document to be parseable such that a FHIR server can process all of the resources that it contains as individual resources. The resulting parsed objects are no longer part of the original immutable document which was received. There is no guarantee that reconstruction of a document from parsed objects will return exactly the same legally authenticated document -  ordering can change, scope of transitively included bundle entries may differ, etc. 

While FHIR servers vary, **many FHIR servers are only designed to parse FHIR bundles of specific types** (e.g. type=transaction). For example, A FHIR Clinical Document of type=document that is posted to a server's **[baseURL]** end-point can generate an error. In such a case, it is possible to transform a document bundle into a transaction bundle, which can then be successfully posted to **[baseURL]**. Transformation from a bundle of type=document to a bundle of type=transaction can be implemented as part of a server-side [operation](https://hl7.org/fhir/R4/operations.html). General steps in the transformation include: (1) Revise Bundle.type to "transaction"; (2) Ensure references within the bundle are not pointing to resource.id, but instead are pointing to a resource instance's full URL or other unique identifier; (3) Set Bundle.entry.request.method to "POST".

For example, a FHIR Clinical Document ([here](https://hl7.org/fhir/R4/document-example-dischargesummary.html)) can be converted into a transaction bundle ([here](Bundle-transactionBundleExample.html)) using the above steps. The generated transaction bundle is then parseable.
